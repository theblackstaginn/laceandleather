<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Fantasy Buttons & Stickers | Lace & Leather</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Fantasy buttons and stickers for scrapbooking, journals, RPGs, and digital design." />

  <style>
    /* =========================
       FIXED OAK BACKGROUND
       ========================= */
    body{
      margin:0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color:#eee;
      background:#000;
    }

    body::before{
      content:"";
      position:fixed;
      inset:0;
      z-index:-2;
      background:url("/assets/oak-web.png") center / cover no-repeat;
      filter: brightness(1.05) contrast(1.05);
    }

    @media (max-width:820px){
      body::before{
        background:url("/assets/oak-mobile.png") center / cover no-repeat;
      }
    }

    main{
      max-width:1200px;
      margin:0 auto;
      padding:22px 16px 48px;
    }

    h1{
      font-size:22px;
      margin:0 0 6px;
      letter-spacing:.04em;
      text-align:center;
    }

    .page-sub{
      font-size:14px;
      opacity:.85;
      max-width:760px;
      margin:0 auto 18px;
      text-align:center;
    }

    /* =========================
       SLATE STAGE
       ========================= */
    .slate-stage{
      position:relative;
      border-radius:18px;
      overflow:hidden;
      isolation:isolate;
      box-shadow:0 18px 48px rgba(0,0,0,.6);
    }

    .stage-bg{
      position:absolute;
      inset:0;
      z-index:0;
      background:url("/assets/slate-web.png") center / cover no-repeat;
    }

    @media (max-width:820px){
      .stage-bg{
        background:url("/assets/slate-mobile.png") center / cover no-repeat;
      }
    }

    .stage-inner{
      position:relative;
      z-index:1;
      padding:16px;
    }

    /* =========================
       SCROLL CONTAINER
       ========================= */
    .buttons-scroll{
      background:rgba(0,0,0,.28);
      border-radius:14px;
      padding:14px;
      max-height:min(65vh, 620px);
      overflow-y:auto;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);
      -webkit-overflow-scrolling:touch;
    }

    /* =========================
       GRID
       ========================= */
    .buttons-grid{
      display:grid;
      grid-template-columns:repeat(4, 1fr);
      gap:16px;
    }

    @media (max-width:1100px){
      .buttons-grid{ grid-template-columns:repeat(3,1fr); }
    }
    @media (max-width:820px){
      .buttons-grid{ grid-template-columns:repeat(2,1fr); }
    }
    @media (max-width:480px){
      .buttons-grid{ grid-template-columns:1fr; }
    }

    /* =========================
       TILE
       ========================= */
    .btn-tile{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
      padding:12px;
      border-radius:14px;
      background:rgba(0,0,0,.18);
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
    }

    .btn-main{
      background:none;
      border:0;
      padding:0;
      cursor:pointer;
      width:100%;
    }

    .btn-img{
      width:100%;
      height:auto;
      display:block;
      border-radius:12px;
    }

    .btn-cart{
      background:none;
      border:0;
      padding:0;
      cursor:pointer;
      display:flex;
      justify-content:center;
      width:100%;
    }

    .cart-img{
      width:52px;
      height:auto;
    }

    .btn-tile.added{
      animation:pulse .22s ease-out;
    }

    @keyframes pulse{
      0%{ transform:scale(1); }
      60%{ transform:scale(1.02); }
      100%{ transform:scale(1); }
    }

    /* =========================
       CLOSE (X) BUTTON
       ========================= */
    .close-btn{
      position:fixed;
      top:14px;
      right:14px;
      z-index:10;
      background:none;
      border:0;
      cursor:pointer;
    }

    .close-btn img{
      width:44px;
      height:auto;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.6));
    }
  </style>
</head>

<body>

<button class="close-btn" onclick="location.href='/'" aria-label="Back to home">
  <img src="/assets/x-button.PNG" alt="Close" />
</button>

<main>
  <h1>Fantasy Buttons & Stickers</h1>
  <p class="page-sub">
    Use these as printable stickers, scrapbook elements, journal accents,
    RPG UI buttons, or decorative digital assets.
  </p>

  <section class="slate-stage">
    <div class="stage-bg" aria-hidden="true"></div>

    <div class="stage-inner">
      <div class="buttons-scroll">
        <div id="buttonsGrid" class="buttons-grid"></div>
      </div>
    </div>
  </section>
</main>

<script>
(function(){
  const BUTTON_DIR = "/buttons-stickers/";
  const CART_ICON = "/assets/cart.png";
  const PRICE_PER_BUTTON = 1.00;

  const FILES = [
    "amber-bronze.png",
    "amethyst-frame.png",
    "amethyst-rectangle.png",
    "emerald-oval.png",
    "emerald-x.png",
    "green-moon.png",
    "grn-wax-book.png",
    "lantern.png",
    "moon-green.png",
    "moon-parch-clean.png",
    "purple-arrow.png",
    "purple-wax-crystal.png",
    "purple-x-shield.png",
    "red-arrow.png",
    "red-parch-arrow.png",
    "red-stag.png",
    "red-wax-feather.png",
    "red-x-bronze.png",
    "red-x-shield.png",
    "red-x.png",
    "ruby-plate.png",
    "sapphire-arrow.png",
    "sapphire-plate.png",
    "skull-bronze-plate.png",
    "skull-plate.png",
    "skull.png",
    "stag-plate.png",
    "stag-red-wax.png",
    "wax-green-book-2.png",
    "wax-key.png",
    "wax-skull.png"
  ];

  const CART_KEY = "ll_cart";
  const ORDER_KEY = "ll_order_id";

  function titleFromFile(f){
    return f.replace(/\.[^.]+$/, "")
            .replace(/[-_]+/g," ")
            .replace(/\b\w/g,m=>m.toUpperCase());
  }

  function loadCart(){
    try{
      return JSON.parse(localStorage.getItem(CART_KEY)) || [];
    }catch{
      return [];
    }
  }

  function saveCart(cart){
    localStorage.setItem(CART_KEY, JSON.stringify(cart));
  }

  function ensureOrderId(){
    if(!localStorage.getItem(ORDER_KEY)){
      const a = Math.random().toString(16).slice(2,6).toUpperCase();
      const b = Math.random().toString(16).slice(2,6).toUpperCase();
      localStorage.setItem(ORDER_KEY, `${a}-${b}`);
    }
  }

  function addToCart(name){
    const cart = loadCart();
    const hit = cart.find(x => x.name === name);
    if(hit){
      hit.qty += 1;
    }else{
      cart.push({ name, price: PRICE_PER_BUTTON, qty: 1 });
    }
    saveCart(cart);
    ensureOrderId();
  }

  const grid = document.getElementById("buttonsGrid");

  FILES.forEach(file=>{
    const title = titleFromFile(file);
    const src = BUTTON_DIR + file;

    const tile = document.createElement("div");
    tile.className = "btn-tile";

    const main = document.createElement("button");
    main.className = "btn-main";
    const img = document.createElement("img");
    img.className = "btn-img";
    img.src = src;
    img.alt = title;
    main.appendChild(img);

    const cartBtn = document.createElement("button");
    cartBtn.className = "btn-cart";
    const cartImg = document.createElement("img");
    cartImg.className = "cart-img";
    cartImg.src = CART_ICON;
    cartImg.alt = "Add to cart";
    cartBtn.appendChild(cartImg);

    const handler = () => {
      addToCart(title);
      tile.classList.remove("added");
      void tile.offsetWidth;
      tile.classList.add("added");
    };

    main.onclick = handler;
    cartBtn.onclick = (e) => {
      e.stopPropagation();
      handler();
    };

    tile.append(main, cartBtn);
    grid.appendChild(tile);
  });
})();
</script>

</body>
</html>